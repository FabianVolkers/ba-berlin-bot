BO_Consent_Manager=new function(){var self=this,queue=[],use_metatag_cmp=!1,metatag_consents_ready=!1;self.init=function(){self.useUsercentrics()&&window.addEventListener("uc_data",function(ev){self.logDebug("uc_data event",ev.data.event,window.usercentrics.isInitialized,window.usercentrics.appLoaded),window.setTimeout(self.processConsentHandlers,200)})},self.useUsercentrics=function(){return"object"==typeof window.usercentrics},self.useMetaTagCmp=function(value){return"boolean"==typeof value&&(use_metatag_cmp=value),use_metatag_cmp},self.addHandler=function(name,state,callback){self.logDebug("add job",name,state);var job={name:name,state:state,callback:callback};if(self.useUsercentrics()||self.useMetaTagCmp())queue.push(job),self.processConsentHandlers();else if(state)try{self.logDebug("(disabled) run job",job.name,job.state),callback(job)}catch(e){console.log(job.name,e)}},self.processConsentHandlers=function(){var data,deferred_queue;self.useUsercentrics()&&window.usercentrics.isInitialized?(self.logDebug("processConsentHandlers"),data=[],window.usercentrics.getConsents().forEach(function(consent){data[consent.dataProcessingService]=consent}),deferred_queue=[],queue.forEach(function(job){try{"object"==typeof data[job.name]&&job.state===data[job.name].consentStatus?(self.logDebug("run job for state",job.state,job.name),job.callback(job)):deferred_queue.push(job)}catch(e){console.log(job.name,e)}}),queue=deferred_queue):self.processConsentHandlersMetaTag(metatag_consents_ready)},self.processConsentHandlersMetaTag=function(ready){var map;self.useMetaTagCmp()&&ready&&"object"==typeof SDG&&(self.logDebug("CMP processConsentHandlersMetaTag"),map={"Google Adsense":"Google Ad Sense",INFOnline:"INFOnline GmbH"},metatag_consents_ready=ready,queue.forEach(function(job){try{var consent_value=map[job.name]||job.name,consent_value=SDG.Publisher.getCustomVendorConsent(consent_value);job.state===consent_value&&(self.logDebug("_sp_ run job",job.state,job.name),job.callback(job))}catch(e){self.logDebug(job.name,e)}}),queue=[])},self.logDebug=function(){for(var args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);console.log("CMP",args)}},BO_Consent_Manager.init(),function(){var path_id=window.location.pathname.toLowerCase().replace(/\./g,"_").split("/"),path_id="www.berlin.de"===location.hostname.toLocaleLowerCase()?path_id.slice(0,3<path_id.length?3:2).join("."):location.hostname.toLocaleLowerCase().replace(/\./g,"_");window._tiConfig={tiDomain:"responder.wt-safetag.com",tiId:"102571513503709",option:{}},window._ti={portal:{layout:"Country",path_id:path_id}}}(),function(a,d,c,f){var e;a.wts=a.wts||[],-1===d.cookie.indexOf("wt_r=1")&&(e=d.getElementsByTagName(c)[0],(c=d.createElement(c)).async=!0,c.onload=function(){var b,c;void 0===a.wt_r||isNaN(a.wt_r)||(c=(b=new Date).getTime()+1e3*parseInt(a.wt_r),b.setTime(c),d.cookie="wt_r=1;path=/;expires="+b.toUTCString())},c.onerror=function(){void 0!==a.wt_mcp_hide&&"function"==typeof a.wt_mcp_hide.show&&(a.wt_mcp_hide.show(),a.wt_mcp_hide.show=function(){})},c.src="//"+function(b){var a="";if(b.customDomain&&b.customPath?a=b.customDomain+"/"+b.customPath:b.tiDomain&&b.tiId&&(a=b.tiDomain+"/resp/api/get/"+b.tiId+"?url="+encodeURIComponent("https://"+d.location.host+"/")+"&v=5"),b.option)for(var c in b.option)a+="&"+c+"="+encodeURIComponent(b.option[c]);return a}(f),e.parentNode.insertBefore(c,e))}(window,document,"script",_tiConfig),BO_webtrekk=new function(){this.init=function(){BO_Consent_Manager.addHandler("Webtrekk",!0,this.webtrekk_optin),BO_Consent_Manager.addHandler("Webtrekk",!1,this.webtrekk_optout)},this.webtrekk_optout=function(){document.cookie="webtrekkOptOut=1; max-age=1800; Secure; SameSite=None; path=/"},this.webtrekk_optin=function(){document.cookie="webtrekkOptOut=deleted; expires=Thu, 01 Jan 1970 00:00:00 GMT"}},BO_webtrekk.init();
//# sourceMappingURL=/i9f/v4/js/bo-info.js.map